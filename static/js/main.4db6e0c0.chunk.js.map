{"version":3,"sources":["index.js"],"names":["Square","props","className","onClick","onTap","value","initializeIcons","Board","i","this","sq","renderSquare","React","Component","Game","state","hist","Array","fill","step","x","history","slice","s","length","calcWinner","setState","concat","status","current","winner","moves","map","move","label","key","text","jumpTo","nav","items","iconProps","iconName","subMenuProps","ariaLabel","isMultiline","dismissButtonAriaLabel","handleTap","lines","a","b","c","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4db6e0c0.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {\n  CommandBar,\n  MessageBar\n} from 'office-ui-fabric-react';\nimport { initializeIcons } from '@fluentui/react/lib/Icons';\ninitializeIcons();\n\nfunction Square(props) {\n  return (\n    <button className=\"square\" onClick={props.onTap}>\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.sq[i]}\n        onTap={() => {this.props.onTap(i)}}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hist: [\n        { sq: Array(9).fill(null) }\n      ],\n      step: 0,\n      x: true\n    }\n  }\n\n  handleTap(i) {\n    const history = this.state.hist.slice(0, this.state.step + 1);\n    const current = history[history.length - 1];\n    const s = current.sq.slice();\n    if (calcWinner(s) || s[i]) return;\n    s[i] = this.state.x ? 'X' : 'O';\n    this.setState({\n      hist: history.concat([{ sq: s }]),\n      step: history.length,\n      x: !this.state.x\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      step,\n      x: (step % 2) === 0\n    });\n  }\n\n  render() {\n    const history = this.state.hist;\n    const current = history[this.state.step];\n    const winner = calcWinner(current.sq);\n\n    const moves = history.map((step, move) => {\n      const label = move ?\n        `#${move}へ戻る` :\n        '最初から';\n      return {\n        key: {move},\n        text: label,\n        onClick: () => this.jumpTo(move)\n      };\n    });\n    let status;\n    if (winner) status = `Winner: ${winner}`;\n    else status = `Next player: ${this.state.x ? 'X' : 'O'}`;\n\n    const nav = {\n      items: [\n        {\n          key: 'game',\n          text: 'ゲーム',\n          iconProps: { iconName: 'Game' },\n          subMenuProps: {\n            items: [ ...moves ]\n          },\n        },\n        {\n          key: 'help',\n          text: 'ヘルプ',\n          iconProps: { iconName: 'Help' }\n        }\n      ]\n    }\n\n    return (\n      <main className=\"game\">\n        <nav className=\"game-nav\">React OX</nav>\n        <CommandBar\n          items={nav.items}\n          ariaLabel=\"Use left and right arrow keys to navigate between commands\"\n        />\n        <div className=\"game-info\">\n          <MessageBar\n            isMultiline={false}\n            dismissButtonAriaLabel=\"Close\"\n          >\n            { status }\n          </MessageBar>\n        </div>\n        <div className=\"game-board\">\n          <Board\n            sq={current.sq}\n            onTap={i => this.handleTap(i)}\n          />\n        </div>\n      </main>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\nfunction calcWinner(sq) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (sq[a] && sq[a] === sq[b] && sq[a] === sq[c]) {\n      return sq[a];\n    }\n  }\n  return null;\n}\n"],"sourceRoot":""}